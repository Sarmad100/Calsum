<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calsum</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#4CAF50" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 1rem;
      margin: 0;
      background: url('https://images.unsplash.com/photo-1594737625785-c0e3b2bb1d4e?auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
      background-size: cover;
      color: #333;
      background-color: #f2f2f2;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 1rem;
      text-align: center;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 0.5rem;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    select, button, table, label {
      font-size: 1rem;
    }
    input, select, button {
      padding: 0.75rem;
      margin: 0.5rem 0;
      width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      font-weight: bold;
    }
    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
      background-color: rgba(255, 255, 255, 0.95);
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      font-size: 0.95rem;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
      text-align: left;
    }
    tfoot td {
      font-weight: bold;
    }
    @media (max-width: 480px) {
      h1 {
        font-size: 16px;
        flex-direction: column;
      }
      select, button, table, label {
        font-size: 0.95rem;
      }
      input, select, button {
        padding: 0.6rem;
      }
    }
  </style>
</head>
<body>
  <h1>
    <img src="https://cdn-icons-png.flaticon.com/512/3094/3094819.png" alt="Calsum Logo" style="height: 30px; vertical-align: middle;"> 
    Calsum: Calorie & Protein Tracker
  </h1>

  <label for="meal">Meal:</label>
  <select id="meal">
    <option value="breakfast">Breakfast</option>
    <option value="lunch">Lunch</option>
    <option value="dinner">Dinner</option>
  </select>

  <label for="food">Food Item:</label>
  <select id="food">
    <option value="">-- Select food --</option>
    <option value="Roti">Roti (1 piece)</option>
    <option value="Boiled Egg">Boiled Egg (1)</option>
    <option value="Chicken">Chicken (100g)</option>
    <option value="Yogurt">Yogurt (1 bowl)</option>
    <option value="Chia Seeds">Chia Seeds (1 tsp)</option>
    <option value="Daal">Daal (1 cup)</option>
    <option value="Milk Tea">Milk Tea (1 cup, no sugar)</option>
    <option value="Coffee">Coffee (1 cup, no sugar)</option>
    <option value="Bread Slice">Bread Slice (1)</option>
    <option value="Peanut Butter">Peanut Butter (1 tbsp)</option>
    <option value="Daal Masoor">Daal Masoor (1 cup)</option>
    <option value="Daal Moong">Daal Moong (1 cup)</option>
    <option value="Daal Chana">Daal Chana (1 cup)</option>
    <option value="Mutton">Mutton (100g cooked)</option>
    <option value="Gulab Jamun">Gulab Jamun (1)</option>
    <option value="Biscuit">Biscuits (1)</option>
    <option value="Green Tea">Green Tea with Lemon (1 cup)</option>
  </select>

  <button onclick="addFood()">+ Add Food</button>

  <h2>Breakfast</h2>
  <table id="log-breakfast">
    <thead>
      <tr><th>Food</th><th>Calories</th><th>Protein (g)</th><th>Action</th></tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr><td>Total</td><td id="totalCalories-breakfast">0</td><td id="totalProtein-breakfast">0</td><td></td></tr>
    </tfoot>
  </table>

  <h2>Lunch</h2>
  <table id="log-lunch">
    <thead>
      <tr><th>Food</th><th>Calories</th><th>Protein (g)</th><th>Action</th></tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr><td>Total</td><td id="totalCalories-lunch">0</td><td id="totalProtein-lunch">0</td><td></td></tr>
    </tfoot>
  </table>

  <h2>Dinner</h2>
  <table id="log-dinner">
    <thead>
      <tr><th>Food</th><th>Calories</th><th>Protein (g)</th><th>Action</th></tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr><td>Total</td><td id="totalCalories-dinner">0</td><td id="totalProtein-dinner">0</td><td></td></tr>
    </tfoot>
  </table>

  <h2>Total Summary</h2>
  <table>
    <tr><td><strong>Total Calories:</strong></td><td id="totalCalories-day">0</td></tr>
    <tr><td><strong>Total Protein:</strong></td><td id="totalProtein-day">0</td></tr>
  </table>

  <script>
    const foodData = {
      "Roti": { calories: 120, protein: 3 },
      "Boiled Egg": { calories: 70, protein: 6 },
      "Chicken": { calories: 165, protein: 31 },
      "Yogurt": { calories: 130, protein: 10 },
      "Chia Seeds": { calories: 30, protein: 2 },
      "Daal": { calories: 180, protein: 9 },
      "Milk Tea": { calories: 60, protein: 1 },
      "Coffee": { calories: 5, protein: 0.3 },
      "Bread Slice": { calories: 70, protein: 2.5 },
      "Peanut Butter": { calories: 90, protein: 4 },
      "Daal Masoor": { calories: 180, protein: 9 },
      "Daal Moong": { calories: 170, protein: 8 },
      "Daal Chana": { calories: 190, protein: 10 },
      "Mutton": { calories: 250, protein: 25 },
      "Gulab Jamun": { calories: 150, protein: 2 },
      "Biscuit": { calories: 40, protein: 0.5 },
      "Green Tea": { calories: 2, protein: 0 }
    };

    function addFood() {
      const food = document.getElementById("food").value;
      const meal = document.getElementById("meal").value;
      if (!food || !meal) return;

      const { calories, protein } = foodData[food];
      const tbody = document.querySelector(`#log-${meal} tbody`);
      const row = document.createElement("tr");
      row.innerHTML = `<td>${food}</td><td>${calories}</td><td>${protein}</td><td><button onclick="removeFood(this, '${meal}', ${calories}, ${protein})">Remove</button></td>`;
      tbody.appendChild(row);

      const totalCalories = document.getElementById(`totalCalories-${meal}`);
      const totalProtein = document.getElementById(`totalProtein-${meal}`);
      totalCalories.textContent = parseInt(totalCalories.textContent) + calories;
      totalProtein.textContent = parseFloat(totalProtein.textContent) + protein;

      updateDayTotal();
      document.getElementById("food").value = "";
    }

    function updateDayTotal() {
      const meals = ["breakfast", "lunch", "dinner"];
      let totalCalories = 0;
      let totalProtein = 0;

      meals.forEach(meal => {
        totalCalories += parseInt(document.getElementById(`totalCalories-${meal}`).textContent);
        totalProtein += parseFloat(document.getElementById(`totalProtein-${meal}`).textContent);
      });

      document.getElementById("totalCalories-day").textContent = totalCalories;
      document.getElementById("totalProtein-day").textContent = totalProtein.toFixed(1);
    }

    function removeFood(button, meal, calories, protein) {
      const row = button.closest("tr");
      row.remove();

      const totalCalories = document.getElementById(`totalCalories-${meal}`);
      const totalProtein = document.getElementById(`totalProtein-${meal}`);
      totalCalories.textContent = parseInt(totalCalories.textContent) - calories;
      totalProtein.textContent = parseFloat(totalProtein.textContent) - protein;

      updateDayTotal();
    }
  </script>
</body>
</html>
